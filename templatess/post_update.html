{% extends 'base.html' %}

{% block title %}
Update Post
{% endblock %}

{% block body %}
<div class="container mt-5">
  <h1 class="mb-4">Update Post</h1>
  <form method="post" enctype="multipart/form-data">
    {{ form.hidden_tag() }}
    <div class="form-group mb-3">
      <label for="title">Post Title</label>
      {{ form.title(class="form-control", id="title") }}
    </div>
    <div class="form-group mb-3">
      <label for="text">Post Content</label>
      {{ form.text(class="form-control", id="text", rows="5") }}
    </div>
    <div class="form-group mb-3">
      <label for="image">Upload Image</label>
      {{ form.image(class="form-control", id="image") }}
      {% if post.image_path %}
      <small class="form-text text-muted">Current Image:</small>
      <img src="{{ post.image_path }}" alt="Current Image" class="img-thumbnail mb-3" style="max-width: 200px;">
      {% endif %}
    </div>
    <button type="submit" class="btn btn-success">Update</button>
    <a href="{{ url_for('posts_detail', id=post.id) }}" class="btn btn-secondary">Cancel</a>
  </form>
</div>
{% endblock %}
